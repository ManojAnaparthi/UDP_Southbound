================================================================================
OpenFlow Handshake Verification Test
================================================================================

[19:21:46] [INIT] Controller listening on UDP 127.0.0.1:6653
[19:21:46] [INIT] Waiting for OpenFlow handshake to begin...

================================================================================
HANDSHAKE SEQUENCE
================================================================================

[19:21:46] [STEP 1/5] Waiting for HELLO from switch...
[19:21:48] âœ… HELLO received from ('127.0.0.1', 60984)
            Version: 4, XID: 143
[19:21:48] âœ… HELLO sent to switch (XID: 1)

[19:21:48] [STEP 2/5] Sending FEATURES_REQUEST to switch...
[19:21:48] âœ… FEATURES_REQUEST sent (XID: 2)
[19:21:48] Waiting for FEATURES_REPLY...
[19:21:48] âœ… FEATURES_REPLY received (XID: 2, length: 32 bytes)
            DPID: 0xee7c34a3f649
            Tables: 254, Buffers: 0
            Capabilities: 0x4f

[19:21:48] [STEP 3/5] Sending SET_CONFIG...
[19:21:48] SET_CONFIG message: 0409000c0000000300000080
[19:21:48]   flags=0x0000 (OFPC_FRAG_NORMAL)
[19:21:48]   miss_send_len=128 bytes
[19:21:48] âœ“ Sent SET_CONFIG
[19:21:50] âœ“ No error received - SET_CONFIG accepted!

[19:21:50] [STEP 4/5] Waiting for ECHO REQUEST from switch...
[19:21:50] (OVS typically sends ECHO every 5-15 seconds, waiting up to 20 seconds...)
[19:21:53] âœ… ECHO_REQUEST received from switch (XID: 0)
[19:21:53] âœ… ECHO_REPLY sent (keepalive working!)

[19:21:53] [STEP 5/5] Handshake Status Check

================================================================================
HANDSHAKE SUMMARY
================================================================================
âœ… Hello Sent (REQUIRED): True
âœ… Hello Received (REQUIRED): True
âœ… Features Request Sent (REQUIRED): True
âœ… Features Reply Received (REQUIRED): True
âœ… Set Config Sent: True
âœ… Echo Test Done: True

================================================================================
ðŸŽ‰ HANDSHAKE COMPLETE!
================================================================================

âœ… Core handshake successful:
   â€¢ HELLO exchange: version negotiation done
   â€¢ FEATURES exchange: switch capabilities received

âœ… SET_CONFIG sent (switch may have rejected it)
âœ… ECHO keepalive working

Controller is now ready to:
  â€¢ Install flows (FLOW_MOD)
  â€¢ Receive packets (PACKET_IN)
  â€¢ Query statistics
  â€¢ Manage the switch


[19:21:53] Staying alive for 10 seconds to observe any messages...
[19:21:53] Received ERROR (XID: 3)
[19:21:58] Received ECHO_REQUEST (XID: 0)
[19:21:58] Sent ECHO_REPLY

[19:22:00] Controller stopped
